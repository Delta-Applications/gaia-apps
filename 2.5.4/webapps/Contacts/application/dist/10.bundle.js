webpackJsonp([10],{287:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=t(3),l=n(u),s=t(10),c=n(s),f=t(5),p=n(f),d=t(21),h=n(d),y=t(4),g=n(y),v=t(24),m=n(v),b=t(11),k=n(b),w=t(344),_=n(w),O=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.FOCUS_SELECTOR=".list-item.navigable",n.state={group:k.default.getGroups()},n.isPicker=g.default.query("isActivity"),n}return a(t,e),i(t,[{key:"getConfig",value:function(){var e={left:"new-group",center:"select",right:"options"};return this.isPicker&&(e={left:"",center:"select",right:""}),e}},{key:"updateSoftKeys",value:function(){this._softKey.update(this.getConfig())}},{key:"componentDidMount",value:function(){var e=this,t=this.getConfig();this.element=c.default.findDOMNode(this),this._softKey=h.default.create(this.element,t),this.onGroupChanged=function(){var t=k.default.getGroups();t.length?e.setState({group:t}):g.default.request("back")},k.default.on("group-changed",this.onGroupChanged),this.navigator=new m.default(this.FOCUS_SELECTOR,this.element)}},{key:"componentWillUnmount",value:function(){this._softKey.destroy(),k.default.off("group-changed",this.onGroupChanged)}},{key:"onKeyDown",value:function(e){var t=this,n=document.activeElement.dataset.id,o=document.activeElement.dataset.name;switch(e.key){case"Backspace":e.preventDefault(),e.stopPropagation(),g.default.request("back",{isFromGroup:!0});break;case"SoftLeft":if(e.preventDefault(),e.stopPropagation(),this.isPicker)break;g.default.request("showCreateGroupDialog");break;case"Enter":if(!o)break;e.preventDefault(),e.stopPropagation(),g.default.request("push","/group/"+o+"/"+n);break;case"SoftRight":if(!n)break;if(this.isPicker)break;var r=[{id:"rename",callback:function(){g.default.request("showCreateGroupDialog",{rename:!0,id:n,initialValue:o})}},{id:"delete",callback:function(){var e=window.navigator.mozL10n.get;g.default.request("showDialog",{header:e("confirm"),content:e("delete-group",{group:o}),ok:"delete",type:"confirm",translated:!0,onOk:function(){k.default.removeGroup({name:o,id:n}).then(function(){var e=Array.from(t.element.querySelectorAll(t.FOCUS_SELECTOR));e.length&&t.navigator.setFocus(e[0])})}})}},{id:"settings",callback:function(){g.default.request("push","/setting")}}];e.preventDefault(),e.stopPropagation(),g.default.request("showOptionMenu",{options:r,onCancel:function(){}})}}},{key:"onFocus",value:function(){g.default.request("ensureDialog"),this.updateSoftKeys()}},{key:"componentDidUpdate",value:function(){this.updateSoftKeys()}},{key:"render",value:function(){var e=this,t=[];this.state.group.forEach(function(e){t.push(l.default.createElement(_.default,{groupItem:e}))});var n="group";return this.isPicker&&(n="select-a-contact"),l.default.createElement("div",{className:"group-list-view list-view",id:"group-list-view",tabIndex:"-1",onKeyDown:function(t){return e.onKeyDown(t)},onFocus:function(t){return e.onFocus(t)}},l.default.createElement("div",{className:"header h1","data-l10n-id":n}),l.default.createElement("div",{className:"body"},t))}}]),t}(p.default);exports.default=O},344:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=t(3),l=n(u),s=t(5),c=n(s),f=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){var e=this.props.groupItem,t=e.id,n=e.name;return l.default.createElement("div",{className:"list-item navigable",tabIndex:"-1","data-id":t,"data-name":n},l.default.createElement("div",{className:"content"},l.default.createElement("div",{className:"primary"},l.default.createElement("span",null,n))),l.default.createElement("i",{className:"icon","data-icon":"forward",role:"presentation"}))}}]),t}(c.default);exports.default=f}});
//# sourceMappingURL=10.bundle.js.map